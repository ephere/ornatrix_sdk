<?xml version="1.0" encoding="utf-8"?>
<ParameterSet xmlns="http://www.ephere.com/Parameters"
            Name="PropagateParameters" Version="1" Namespace="Ephere::Ornatrix">
  <Types>
    <Enumeration QualifiedType="RootGenerationMethodType">
      <Name>Uniform</Name>
      <Name>Random</Name>
      <Name>Vertex</Name>
    </Enumeration>
    <!--Specifies how the texture coordinates will be generated for the resulting strands-->
    <Enumeration QualifiedType="TextureMappingMethodType">
      <!--No texture coordinates will be generated-->
      <Name>None</Name>
      <!--Texture coordinates will be copied from base strands to generated strands-->
      <Name>InheritFromBaseStrand</Name>
      <!--A new flat texture map is generated with coordinates preserving the strand geometry-->
      <Name>FlatMap</Name>
    </Enumeration>
  </Types>

  <Parameters>

    <TargetHairParameter Id="40" />

    <DistributionMeshParameter Id="41" />

    <Parameter Name="RootGenerationMethod" Id="1" Type="enum" ConcreteType="RootGenerationMethodType" DefaultValue="Random">
      <Description>Determines how roots are generated on strands</Description>
    </Parameter>

    <Parameter Name="RootCount" Id="2" Type="int" DefaultValue="50">
      <Description>Determines the total number of new strands generated on each base strand</Description>
      <Range>
        <Value Low="1"/>
        <Ui Low="1" High="50"/>
      </Range>
    </Parameter>

    <Parameter Name="VerticesPerRootCount" Id="3" Type="int" DefaultValue="4">
      <Description>Determines how many points each strand generated generated by this operator will have</Description>
      <Range>
        <Value Low="2" High="99999"/>
        <Ui Low="2" High="50"/>
      </Range>
    </Parameter>

    <StrandGroupParameter PatternId="4" />

    <Parameter Name="CountPerStrand" Id="5" Type="bool" DefaultValue="true">
      <Description>If checked, the viewport and render count values will be used per each source strands instead of overall for all strands</Description>
    </Parameter>

    <Parameter Name="RandomSeed" Id="6" Type="int" Purpose="RandomSeed" DefaultValue="1" />

    <Group Name="Range">
      <Parameter Name="Low" Id="7" Type="float" DefaultValue="0%">
        <Description>Starting position on source strands where to generate new strands</Description>
      </Parameter>
      <Parameter Name="High" Id="8" Type="float" DefaultValue="100%">
        <Description>Ending position on source strands where to generate new strands</Description>
      </Parameter>
    </Group>

    <Parameter Name="LengthRelativeToBaseStrand" Id="9" Type="bool" DefaultValue="false">
      <Description>If checked length values will be adjusted to the length of each strand on which new strands are generated.</Description>
    </Parameter>

    <Parameter Name="FaceSurface" Id="10" Type="bool" DefaultValue="true">
      <Description>When enabled and number of twist sides is set to 2, this will force all newly created hairs to be tangential to the underlying surface at the root. This is useful for feathers when you want all of them to be staying parallel to the surface.</Description>
    </Parameter>

    <Parameter Name="SideCount" Id="11" Type="int" DefaultValue="2">
      <Description>Specifies how many unique twist sides will be propagated on. These sides are uniformly picked. For example having two sides would mean spawning one hair on one side of the strand and the next on the other (opposite of the first hair).</Description>
      <Range>
        <Value Low="1"/>
        <Ui Low="1" High="5"/>
      </Range>
    </Parameter>

    <Group Name="Twist">
      <VaryingParameter Name="Amount" GlobalValueId="12" RampId="13" DefaultValue="0%" RampDefaultValue="0 0 0.5 0.5 1 1">
        <Description>Controls the rotations of generated strands around the base strand</Description>
        <Range>
          <Value Low="-1" High="1"/>
        </Range>
      </VaryingParameter>
      <Parameter Name="Randomness" Id="14" Type="float" DefaultValue="10%">
        <Description>Introduces variation in twist values by specified amount</Description>
      </Parameter>
    </Group>

    <Group Name="Fanning">
      <VaryingParameter Name="Amount" GlobalValueId="15" RampId="16" DefaultValue="0%" RampDefaultValue="0 0 0.5 0.5 1 1">
        <Description>Controls the rotations of generated strands along the base strand (from root to tip)</Description>
        <Range>
          <Value Low="-1" High="1"/>
        </Range>
      </VaryingParameter>
      <Parameter Name="Randomness" Id="17" Type="float" DefaultValue="0%">
        <Description>Introduces variation in fanning values by specified amount</Description>
      </Parameter>
    </Group>

    <Group Name="Length">
      <VaryingParameter Name="Amount" GlobalValueId="18" RampId="19" DefaultValue="10cm" RampDefaultValue="0 1 0.5 1 1 1">
        <Description>Length of generated strands</Description>
        <Range>
          <Value Low="0"/>
          <Ui Low="0" High="50"/>
        </Range>
      </VaryingParameter>
      <Parameter Name="Randomness" Id="20" Type="float" DefaultValue="20%">
        <Description>Introduces variation in generated strand length by specified amount</Description>
      </Parameter>
    </Group>

    <VaryingParameter Name="Distribution" ChannelId="21" RampId="22" MapId="23" RampDefaultValue="0 1 0.5 1 1 1">
      <Description>Controls the number of generated strand along each base strand and base surface</Description>
    </VaryingParameter>

    <Parameter Name="ResultStrandGroup" Id="24" Type="int" DefaultValue="1">
      <Description>Strand group assigned to generated strands</Description>
      <Range>
        <Value Low="0"/>
        <Ui Low="0" High="100"/>
      </Range>
    </Parameter>

    <Parameter Name="OperatorId" Id="25" Type="int" DefaultValue="0">
      <Description>Internal id of the operator used for enumerating generated strands uniquely</Description>
    </Parameter>

    <Parameter Name="TextureMappingMethod" Id="26" Type="enum" ConcreteType="TextureMappingMethodType" DefaultValue="None">
      <Description>Specifies how the texture coordinates will be generated for the resulting strands</Description>
    </Parameter>

    <Parameter Name="UniformRandomness" Id="27" Type="float" DefaultValue="0">
      <Description>When root distribution is uniform this offsets the root values by specified amount randomly along the strand</Description>
      <Range>
        <Value Low="0"/>
        <Ui Low="0" High="0.05"/>
      </Range>
    </Parameter>

    <Parameter Name="AddRootPositionChannel" Id="28" Type="bool" DefaultValue="false">
      <Description>When enabled, a per-strand channel is added containing root positions in range (0 to 1) of propagated strands, relative to their base strand</Description>
    </Parameter>

    <GroupArray Name="PerStrandSide">
      <Parameter Name="Indices" Id="29" Type="int" IsHidden="true" />
      <Parameter Name="TwistRamps" Id="30" Type="Ramp" IsHidden="true" />
      <Parameter Name="FanningRamps" Id="31" Type="Ramp" IsHidden="true" />
      <Parameter Name="LengthRamps" Id="32" Type="Ramp" IsHidden="true" />
      <Parameter Name="DistributionRamps" Id="33" Type="Ramp" IsHidden="true" />
      <Parameter Name="Twists" Id="34" Type="float" IsHidden="true" />
      <Parameter Name="TwistsRandomness" Id="35" Type="float" IsHidden="true" />
      <Parameter Name="Fannings" Id="36" Type="float" IsHidden="true" />
      <Parameter Name="FanningsRandomness" Id="37" Type="float" IsHidden="true" />
      <Parameter Name="Lengths" Id="38" Type="float" IsHidden="true" />
      <Parameter Name="LengthsRandomness" Id="39" Type="float" IsHidden="true" />
    </GroupArray>

  </Parameters>

</ParameterSet>
